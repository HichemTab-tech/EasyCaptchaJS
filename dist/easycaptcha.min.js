/*!
 * EasyCaptchaJS v1.0.0
 * (c) HichemTech
 * Released under the MIT License.
 * Github: https://github.com/HichemTab-tech/EasyCaptchaJS
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.EasyCaptchaJS=t():e.EasyCaptchaJS=t()}(this,(()=>(()=>{"use strict";var e={d:(t,a)=>{for(var r in a)e.o(a,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:a[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{EasyCaptcha:()=>a});const a=function(e={},...t){let a=null===e;if(null===e&&(e={}),0===$(this).length&&!a)throw"no ReCaptcha div parent.";let n=[];const s={verify:function(e,t,a){if(0!==a.length){if(a[0].startsWith("#")&&(a[0]=a[0].substring(1)),a[0]===t.parentId){let a={verified:""!==i.getResponse(t.widgetId)};e.push(a)}}else{let a={parentElement:$("#"+t.parentId),verified:""!==i.getResponse(t.widgetId)};e.push(a)}return e},response:function(e,t,a){if(0!==a.length){if(a[0].startsWith("#")&&(a[0]=a[0].substring(1)),a[0]===t.parentId){let a={token:i.getResponse(t.widgetId)};e.push(a)}}else{let a={parentElement:$("#"+t.parentId),token:i.getResponse(t.widgetId)};e.push(a)}return e},reset:function(e,t,a){return 0!==a.length?(a[0].startsWith("#")&&(a[0]=a[0].substring(1)),a[0]===t.parentId&&i.reset(t.widgetId)):i.reset(),e},destroy:function(e,t){for(let e=0;e<$(this).length;e++)$("#"+t.parentId).empty(),$($(this)[e]).removeData("EasyCaptcha");return e}};if("object"==typeof e)r($(this),0,e,a);else for(let a=0;a<$(this).length;a++){let r=$($(this)[a]).data("EasyCaptcha");r&&void 0!==s[e]&&(n=s[e](n,r,[...t]))}return n.length>1?n:0===n.length?null:n[0]};function r(e,t,a,i){if(e.length===t)return;let s,l=$(e[t]),d=l.data("EasyCaptcha");if(d)r(e,t+1,a,i);else{d={},d.AUTO_INIT=i,s=$.extend({ReCAPTCHA_API_KEY_CLIENT:null,ReCaptchaSubmit:{success:()=>{},failed:()=>{},expired:()=>{}},autoVerification:{okBtn:null,requiredMsg:"<div class='alert alert-danger'>Please verify that you are not a robot.</div>"},apiScriptLoading:{loadingMsg:'<div class="spinner-border text-primary" role="status"></div>',error:()=>{},errorMsg:"<div class='alert alert-danger'>Error while loading Api Script. <b class='retry-load-api-script clickable'>retry</b></div>"},theme:"light",failure:e=>{console.error(e)}},a);let c=$('meta[name="ReCAPTCHA_API_KEY_CLIENT"]');if(0!==c.length&&(s.ReCAPTCHA_API_KEY_CLIENT=c.attr("content")),""!==l.attr("data-okbtn-selector")&&(s.autoVerification.okBtn=l.attr("data-okbtn-selector")),""!==l.attr("data-recaptcha-apikey")&&(s.ReCAPTCHA_API_KEY_CLIENT=l.attr("data-recaptcha-apikey")),""!==l.attr("data-required-msg-example-selector")){let e=$(l.attr("data-required-msg-example-selector")).clone();e.removeClass("hidden"),e.removeClass("d-none"),s.autoVerification.requiredMsg=e}if(""!==l.attr("data-loading-msg-example-selector")){let e=$(l.attr("data-loading-msg-example-selector")).clone();e.removeClass("hidden"),e.removeClass("d-none"),s.apiScriptLoading.loadingMsg=e}if(""!==l.attr("data-error-msg-example-selector")){let e=$(l.attr("data-error-msg-example-selector")).clone();e.removeClass("hidden"),e.removeClass("d-none"),s.apiScriptLoading.errorMsg=e}""!==l.attr("data-theme")&&(s.theme=l.attr("data-theme")),d.settings=s,o(d,!1);let p=Math.floor(1e3*Math.random()+100);if(""!==l.attr("id")&&l.attr("id",p+"_ReCaptchaTargetParent"),d.parentId=l.attr("id"),d.elementId=d.parentId+"__child",$('<div class="ReCaptchaTarget" id="'+d.elementId+'"></div>').appendTo(l),$('<div class="alertsParent"></div>').appendTo(l),d.AUTO_INIT){$('<input type="hidden" name="g-recaptcha-response" id="g-recaptcha-response" value="">').appendTo(l)}n(d).then((function(){r(e,t+1,a,i)}),(function(e){s.failure(e??"Unknown error")})),l.data("EasyCaptcha",d)}}async function n(e){await new Promise((function(t,a){!async function(e,t,a){const r="https://www.google.com/recaptcha/api.js?onload=EasyCaptchaScriptCallback&render=explicit";let i=$('script[src="'+r+'"]');if(0===i.length||"true"===i.attr("loaded")){0!==i.length&&i.remove();let s=$("#"+a.parentId).find(".alertsParent");s.empty(),$(a.settings.apiScriptLoading.loadingMsg).appendTo(s),window.EasyCaptchaScriptCallback=()=>{$('script[src="'+r+'"]').attr("loaded","true"),e(),s.empty()};let o=document.createElement("script");o.src=r,o.async=!0,o.defer=!0,o.onerror=function(){t("EasyCaptchaScript_FAILED"),s.empty();let e=$(a.settings.apiScriptLoading.errorMsg);e.appendTo(s),e.find(".retry-load-api-script").on("click",(function(){n(a)}))},$("head")[0].appendChild(o)}else e()}(t,a,e)})).then((function(){!function(e){let t;i=window.grecaptcha,"string"==typeof e.settings.theme?t=e.settings.theme:"function"==typeof e.settings.theme&&(t=e.settings.theme());"light"!==t&&"dark"!==t&&(t="light");e.widgetId=i.render(e.elementId,{sitekey:e.settings.ReCAPTCHA_API_KEY_CLIENT,callback:()=>function(e){e.settings.ReCaptchaSubmit.success(),o(e,!0),s(e,i.getResponse(e.widgetId))}(e),"expired-callback":()=>function(e){e.settings.ReCaptchaSubmit.expired(),o(e,!1),s(e,"")}(e),"error-callback":()=>function(e){e.settings.ReCaptchaSubmit.failed(),o(e,!1),s(e,"")}(e),theme:t})}(e)}),(function(t){e.settings.apiScriptLoading.error(t)}))}let i;function s(e,t){e.AUTO_INIT&&$("#"+e.parentId).find('[name="g-recaptcha-response"]').val(t)}function o(e,t){if(null!=e.settings.autoVerification.okBtn){let a=$(e.settings.autoVerification.okBtn);a.prop("disabled",!t),t?a.removeClass("disabled"):a.addClass("disabled")}}return jQuery.fn.EasyCaptcha=a,$("[data-auto-easycaptcha]").EasyCaptcha(null),t})()));